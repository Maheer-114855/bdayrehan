<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday</title>
  <style>
    :root{
      --bg1:#070a1f;
      --bg2:#2a0b3a;
      --glass: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.18);
      --text:#fff;
      --gold:#ffd166;
      --pink:#ff70a6;
      --cyan:#7bdff2;
      --mint:#caffbf;
      --vio:#bdb2ff;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 600px at 15% 20%, #7bdff233, transparent 60%),
        radial-gradient(900px 700px at 85% 25%, #ff70a633, transparent 58%),
        radial-gradient(800px 600px at 50% 90%, #ffd16622, transparent 60%),
        linear-gradient(135deg,var(--bg1),var(--bg2));
      overflow:hidden;
    }
    /* ======= floating bokeh dots ======= */
    .bokeh{ position:fixed; inset:0; pointer-events:none; }
    .bokeh i{
      position:absolute;
      width:10px; height:10px;
      border-radius:999px;
      background: rgba(255,255,255,.12);
      filter: blur(0.2px);
      animation: drift linear infinite;
    }
    @keyframes drift{
      to{ transform: translateY(-120vh) translateX(20px); opacity:0; }
    }
    /* ======= confetti ======= */
    .confetti{ position:fixed; inset:0; pointer-events:none; }
    .confetti i{
      position:absolute;
      top:-12vh;
      width:10px; height:16px;
      border-radius:2px;
      opacity:.95;
      transform: rotate(10deg);
      animation: fall linear infinite;
    }
    @keyframes fall{
      to{ transform: translateY(120vh) rotate(520deg); }
    }
    /* ======= balloons ======= */
    .balloons{ position:fixed; inset:0; pointer-events:none; }
    .balloon{
      position:absolute;
      bottom:-25vh;
      width:72px; height:92px;
      border-radius: 50% 50% 45% 45%;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.35));
      animation: floatUp linear infinite;
    }
    .balloon::before{
      content:"";
      position:absolute;
      inset:10px 14px auto auto;
      width:14px; height:20px;
      border-radius:999px;
      background: rgba(255,255,255,.20);
      transform: rotate(18deg);
    }
    .balloon::after{
      content:"";
      position:absolute;
      left:50%; top:90px;
      width:2px; height:95px;
      background: rgba(255,255,255,.35);
      transform: translateX(-50%);
    }
    @keyframes floatUp{
      to{ transform: translateY(-150vh); }
    }
    /* ======= card ======= */
    .card{
      width:min(94vw,560px);
      border-radius:24px;
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      border:1px solid var(--stroke);
      box-shadow: 0 25px 70px rgba(0,0,0,.55);
      backdrop-filter: blur(12px);
      padding:22px 18px 20px;
      position:relative;
      overflow:hidden;
    }
    .topline{
      display:flex;
      gap:10px;
      justify-content:center;
      align-items:center;
      font-size:12px;
      letter-spacing:.18em;
      text-transform:uppercase;
      opacity:.9;
    }
    .pill{
      padding:6px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.22);
      background: rgba(0,0,0,.16);
    }
    h1{
      margin:12px 0 6px;
      text-align:center;
      font-size:42px;
      line-height:1.05;
      letter-spacing:.02em;
      text-shadow:
        0 0 12px rgba(255,209,102,.35),
        0 0 28px rgba(123,223,242,.18),
        0 0 42px rgba(255,112,166,.18);
      animation: glow 1.6s ease-in-out infinite alternate;
    }
    @keyframes glow{
      from{ filter: drop-shadow(0 0 0 rgba(0,0,0,0)); }
      to{   filter: drop-shadow(0 0 18px rgba(255,209,102,.35)); }
    }
    .sub{
      text-align:center;
      margin:0 0 16px;
      opacity:.92;
    }
    /* ======= cake ======= */
    .stage{
      display:grid;
      place-items:center;
      padding:8px 0 2px;
    }
    .cakeWrap{
      position:relative;
      width:260px;
      height:240px;
      transform: translateZ(0);
    }
    /* plate */
    .plate{
      position:absolute;
      left:50%;
      bottom:18px;
      width:280px;
      height:26px;
      transform: translateX(-50%);
      border-radius:999px;
      background: linear-gradient(180deg, rgba(255,255,255,.25), rgba(255,255,255,.08));
      border:1px solid rgba(255,255,255,.18);
      box-shadow: 0 18px 40px rgba(0,0,0,.45);
    }
    /* cake base */
    .cake{
      position:absolute;
      left:50%;
      bottom:40px;
      width:240px;
      height:150px;
      transform: translateX(-50%);
      border-radius: 18px 18px 22px 22px;
      background:
        radial-gradient(90px 40px at 20% 35%, rgba(255,255,255,.16), transparent 55%),
        linear-gradient(180deg, rgba(255,112,166,.92), rgba(189,178,255,.85));
      border:1px solid rgba(255,255,255,.18);
      overflow:hidden;
    }
    /* frosting top */
    .icing{
      position:absolute;
      left:50%;
      bottom:170px;
      width:240px;
      height:44px;
      transform: translateX(-50%);
      border-radius: 18px 18px 26px 26px;
      background:
        radial-gradient(60px 18px at 25% 40%, rgba(255,255,255,.35), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.35));
      border:1px solid rgba(255,255,255,.18);
    }
    /* drips */
    .drip{
      position:absolute;
      top:34px;
      width:22px; height:46px;
      background: linear-gradient(180deg, rgba(255,255,255,.75), rgba(255,255,255,.25));
      border-radius: 0 0 16px 16px;
      filter: blur(.1px);
      opacity:.95;
      animation: dripPulse 1.8s ease-in-out infinite;
    }
    .drip:nth-child(1){ left:18px; height:52px; animation-delay:.0s; }
    .drip:nth-child(2){ left:62px; height:40px; animation-delay:.2s; }
    .drip:nth-child(3){ left:112px; height:56px; animation-delay:.4s; }
    .drip:nth-child(4){ left:164px; height:42px; animation-delay:.1s; }
    .drip:nth-child(5){ left:204px; height:50px; animation-delay:.3s; }
    @keyframes dripPulse{
      0%,100%{ transform: translateY(0); opacity:.85; }
      50%{ transform: translateY(2px); opacity:1; }
    }
    /* sprinkles */
    .sprinkles{
      position:absolute;
      inset:10px 12px auto 12px;
      height:34px;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      align-content:flex-start;
      opacity:.9;
      pointer-events:none;
    }
    .sprinkles span{
      width:14px; height:6px;
      border-radius:999px;
      background: rgba(255,209,102,.9);
      transform: rotate(-14deg);
      box-shadow: 0 2px 8px rgba(0,0,0,.25);
    }
    .sprinkles span:nth-child(3n){ background: rgba(123,223,242,.9); transform: rotate(18deg); }
    .sprinkles span:nth-child(4n){ background: rgba(255,112,166,.9); transform: rotate(-30deg); }
    .sprinkles span:nth-child(5n){ background: rgba(202,255,191,.9); transform: rotate(22deg); }
    /* candle */
    .candle{
      position:absolute;
      left:50%;
      bottom:196px;
      width:18px; height:62px;
      transform: translateX(-50%);
      border-radius:10px;
      background:
        repeating-linear-gradient(
          45deg,
          rgba(255,255,255,.8) 0 6px,
          rgba(123,223,242,.9) 6px 12px
        );
      border:1px solid rgba(255,255,255,.25);
      box-shadow: 0 14px 30px rgba(0,0,0,.35);
    }
    .wick{
      position:absolute;
      left:50%;
      top:-10px;
      width:2px; height:12px;
      background: rgba(0,0,0,.65);
      transform: translateX(-50%);
      border-radius:2px;
    }
    /* flame */
    .flame{
      position:absolute;
      left:50%;
      top:-44px;
      width:26px; height:40px;
      transform: translateX(-50%);
      border-radius: 50% 50% 50% 50%;
      background:
        radial-gradient(10px 12px at 50% 65%, rgba(255,255,255,.85), transparent 55%),
        radial-gradient(14px 18px at 45% 55%, rgba(255,209,102,.95), rgba(255,112,166,.35) 70%, transparent 75%);
      filter: drop-shadow(0 0 18px rgba(255,209,102,.45));
      animation: flicker .12s infinite alternate;
      transform-origin: 50% 90%;
    }
    @keyframes flicker{
      from{ transform: translateX(-50%) rotate(-2deg) scale(1.00); }
      to{   transform: translateX(-50%) rotate( 2deg) scale(1.02); }
    }
    /* ======= buttons + reveal ======= */
    .actions{
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:12px;
    }
    button{
      border:0;
      cursor:pointer;
      font-weight:800;
      letter-spacing:.02em;
      padding:12px 16px;
      border-radius:14px;
      color:#0b1026;
      background: linear-gradient(90deg, var(--gold), var(--cyan), var(--pink));
      box-shadow: 0 12px 34px rgba(0,0,0,.50);
      transition: transform .12s ease;
    }
    .navBtn{
  text-decoration:none;
  display:inline-block;
  font-weight:800;
  letter-spacing:.02em;
  padding:12px 16px;
  border-radius:14px;
  color:#0b1026;
  background: linear-gradient(90deg, var(--mint), var(--vio), var(--gold));
  box-shadow: 0 12px 34px rgba(0,0,0,.50);
  transition: transform .15s ease, box-shadow .15s ease;
}
.navBtn:hover{
  transform: translateY(-2px) scale(1.03);
  box-shadow: 0 18px 40px rgba(0,0,0,.6);
}

.navBtn:active{
  transform: scale(.97);
}

    button:active{ transform: scale(.98); }
    .ghost{
      color: rgba(255,255,255,.92);
      background: rgba(0,0,0,.20);
      border: 1px solid rgba(255,255,255,.18);
    }
    .msg{
      margin:14px auto 0;
      max-width:46ch;
      background: rgba(0,0,0,.22);
      border: 1px dashed rgba(255,255,255,.28);
      border-radius:16px;
      padding:14px 14px;
      opacity:0;
      transform: translateY(10px);
      max-height:0;
      overflow:hidden;
      transition: .55s ease;
    }
    .msg.show{
      opacity:1;
      transform: translateY(0);
      max-height:220px;
    }
    .smallNote{
      margin-top:12px;
      text-align:center;
      font-size:12px;
      opacity:.75;
    }
    /* spark ring */
    .sparkRing{
      position:absolute;
      inset:auto 0 0 0;
      height:0;
      pointer-events:none;
    }
    .spark{
      position:absolute;
      left:50%;
      bottom:226px;
      width:6px; height:6px;
      border-radius:999px;
      background: rgba(255,255,255,.9);
      opacity:0;
    }
    .spark.on{
      animation: burst .9s ease-out forwards;
    }
    @keyframes burst{
      0%{ opacity:0; transform: translate(-50%,0) scale(.2); }
      15%{ opacity:1; }
      100%{
        opacity:0;
        transform: translate(calc(-50% + var(--dx)), calc(var(--dy))) scale(1.2);
      }
    }
    /* ======= screen shake ======= */
@keyframes screenShake {
  0% { transform: translate(0,0); }
  15% { transform: translate(-10px, 8px); }
  30% { transform: translate(10px, -8px); }
  45% { transform: translate(-8px, -10px); }
  60% { transform: translate(8px, 10px); }
  75% { transform: translate(-6px, 6px); }
  100% { transform: translate(0,0); }
}

.shake {
  animation: screenShake 0.6s cubic-bezier(.36,.07,.19,.97);
}
#takeover {
  position: fixed;
  inset: 0;
  background: black;
  z-index: 9999;
  display: none;
  align-items: center;
  justify-content: center;
}

#takeover video {
  width: 100vw;
  height: 100vh;
  object-fit: cover;
}
  </style>
  <script>
const takeover = document.getElementById("takeover");
const takeoverVideo = document.getElementById("takeoverVideo");

openBtn.addEventListener("click", () => {
  // show fullscreen takeover
  takeover.style.display = "flex";

  takeoverVideo.currentTime = 0;
  takeoverVideo.play();

  // STRONG screen shake
  shakeScreen();

  // after 5 seconds ‚Üí go to letter page
  setTimeout(() => {
    window.location.href = "letter.html";
  }, 5000);
});
  </script>
<style>
#takeover {
  position: fixed;
  inset: 0;
  background: black;
  z-index: 99999;
  display: none;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

#takeover video {
  width: 100vw;
  height: 100vh;
  object-fit: cover;
}

#countdown {
  position: absolute;
  bottom: 30px;
  right: 40px;
  font-size: 64px;
  font-weight: 900;
  color: white;
  text-shadow: 0 0 30px rgba(255,255,255,.9);
  pointer-events: none;
}
  </style>
</head>
<div id="takeover">
  <video id="takeoverVideo" src="meme.mp4" playsinline></video>
</div>
<body>
  <div id="takeover">
  <video id="takeoverVideo" src="meme.mp4" autoplay playsinline></video>
</div>
  <div class="bokeh" id="bokeh" aria-hidden="true"></div>
  <div class="confetti" id="confetti" aria-hidden="true"></div>
  <div class="balloons" id="balloons" aria-hidden="true"></div>
  <main class="card">
    <div id="takeover">
  <video id="takeoverVideo" src="meme.mp4" playsinline></video>
  <div id="countdown">5</div>
</div>
    <div class="topline">
      <span class="pill">üéâ BIRTHDAY</span>
      <span class="pill" id="namePill">For You</span>
    </div>
    <h1 id="title">Happy Birthday!</h1>
    <p class="sub" id="subtitle">May your day be full of smiles, love, and barakah ‚ú®</p>
    <div class="stage">
      <div class="cakeWrap">
        <div class="plate"></div>
        <div class="icing">
          <div class="sprinkles" id="sprinkles"></div>
        </div>
        <div class="cake">
          <!-- drips -->
          <div class="drip"></div>
          <div class="drip"></div>
          <div class="drip"></div>
          <div class="drip"></div>
          <div class="drip"></div>
        </div>
        <div class="candle" id="candle">
          <div class="wick"></div>
          <div class="flame" id="flame"></div>
        </div>
        <div class="sparkRing" id="sparkRing"></div>
      </div>
    </div>
    <div class="actions">
  <button id="openBtn">Open Wish ‚ú®</button>
  <button class="ghost" id="blowBtn" type="button">Blow Candle üí®</button>
  <a href="letter.html" class="navBtn" id="letterBtn">Read Letter üíå</a>
</div>
    <div class="msg" id="msg">
      <strong id="toLine">To you,</strong><br/>
      May Allah bless you with health, iman, rizq, and happiness.
      May your goals become real, and your heart stay peaceful. ü§ç
    </div>
    <div class="smallNote">
      Edit the name/message in the script at the bottom (look for <b>SETTINGS</b>).
    </div>
    <!-- Meme video (hidden) -->
<video id="memeVideo" src="meme.mp4" preload="auto"></video>
  </main>
<script>
document.addEventListener("DOMContentLoaded", () => {

  /* ========= SETTINGS ========= */
  const SETTINGS = {
    name: "Muhtasim",
    title: "Happy Birthday!",
    subtitle: "May your day be full of smiles, love, and barakah ‚ú®",
    messageLine1: "To you,",
    messageText:
      "May Allah bless you with health, iman, rizq, and happiness. " +
      "May your goals become real, and your heart stay peaceful. ü§ç"
  };

  /* ========= TEXT ========= */
  document.getElementById("namePill").textContent = "For " + SETTINGS.name;
  document.getElementById("title").textContent = SETTINGS.title;
  document.getElementById("subtitle").textContent = SETTINGS.subtitle;

  /* ========= ELEMENTS ========= */
  const openBtn = document.getElementById("openBtn");
  const blowBtn = document.getElementById("blowBtn");
  const flame = document.getElementById("flame");
  const msg = document.getElementById("msg");

  const memeVideo = document.getElementById("memeVideo");
  const takeover = document.getElementById("takeover");
  const takeoverVideo = document.getElementById("takeoverVideo");

  const card = document.querySelector(".card");

  /* ========= SHAKE ========= */
  function shakeScreen() {
    card.classList.remove("shake");
    void card.offsetWidth;
    card.classList.add("shake");
    setTimeout(() => card.classList.remove("shake"), 600);
  }

  /* ========= OPEN BUTTON ‚Üí FULLSCREEN TAKEOVER ========= */
  openBtn.addEventListener("click", () => {

    // FULLSCREEN TAKEOVER
    takeover.style.display = "flex";
    takeoverVideo.currentTime = 0;
    takeoverVideo.play();
    document.body.style.overflow = "hidden";

    shakeScreen();

    // AFTER 5 SECONDS ‚Üí LETTER PAGE
    setTimeout(() => {
      window.location.href = "letter.html";
    }, 5000);
  });

  /* ========= MESSAGE TOGGLE ========= */
  openBtn.addEventListener("dblclick", () => {
    msg.classList.toggle("show");
    msg.innerHTML =
      `<strong>${SETTINGS.messageLine1} ${SETTINGS.name},</strong><br>` +
      SETTINGS.messageText;
  });

  /* ========= CANDLE ========= */
  let candleOn = true;
  blowBtn.addEventListener("click", () => {
    candleOn = !candleOn;
    flame.style.display = candleOn ? "block" : "none";
    blowBtn.textContent = candleOn ? "Blow Candle üí®" : "Light Candle üî•";
    shakeScreen();
  });

  /* ========= AUDIO BOOST ========= */
  const AudioContext = window.AudioContext || window.webkitAudioContext;
  const audioCtx = new AudioContext();

  const source = audioCtx.createMediaElementSource(memeVideo);
  const bass = audioCtx.createBiquadFilter();
  bass.type = "lowshelf";
  bass.frequency.value = 200;
  bass.gain.value = 15;

  const gainNode = audioCtx.createGain();
  gainNode.gain.value = 1.6;

  source.connect(bass);
  bass.connect(gainNode);
  gainNode.connect(audioCtx.destination);

  document.addEventListener("click", () => {
    if (audioCtx.state === "suspended") audioCtx.resume();
  });

});
</script>
<!-- FULLSCREEN TAKEOVER -->
<div id="takeover">
  <video id="takeoverVideo" src="meme.mp4" autoplay muted></video>
  <div id="countdown"
       style="
         position:absolute;
         top:20px;
         right:30px;
         font-size:32px;
         font-weight:900;
         color:white;
       ">
    5
  </div>
</div>
<!-- FULLSCREEN TAKEOVER -->
<div id="takeover">
  <video
    id="takeoverVideo"
    src="meme.mp4"
    autoplay
    muted
    playsinline
  ></video>

  <div id="countdown"
       style="
         position: absolute;
         bottom: 30px;
         right: 40px;
         font-size: 28px;
         color: white;
         font-weight: 900;
       ">
    5
  </div>
</div>
</body>
</html>
